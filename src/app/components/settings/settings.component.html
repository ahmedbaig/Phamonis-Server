<!-- Content Wrapper START -->
<div class="main-content">
    <div class="container-fluid">
        <div class="page-title">
            <h4></h4>
        </div>
        <div class="row">
            <div class="col-md-12">
                <div class="row">
                    <div class="col-md-12">
                        <div class="card">
                            <div class="card-heading border bottom">
                                <h4 class="card-title">General Info</h4>
                            </div>
                            <div class="card-block">
                                <div class="row">
                                    <div class="col-md-3">
                                        <p class="mrg-top-10 text-dark"> <b>Name</b></p>
                                    </div>
                                    <div class="col-md-6">
                                        <p class="mrg-top-10">{{user.firstName}} {{user.lastName}}</p>
                                    </div>
                                </div>
                                <hr>
                                <div class="row">
                                    <div class="col-md-3">
                                        <p class="mrg-top-10 text-dark"> <b>Email</b></p>
                                    </div>
                                    <div class="col-md-6">
                                        <p class="mrg-top-10">{{user.email}}</p>
                                    </div>
                                </div>
                                <hr>
                                <div class="row">
                                    <div class="col-md-3">
                                        <p class="mrg-top-10 text-dark"> <b>Phone Number</b></p>
                                    </div>
                                    <div class="col-md-6">
                                        <p class="mrg-top-10">{{user.phone}}</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="card" *ngIf="_auth.role=='user'">
                            <div class="card-heading border bottom">
                                <h4 class="card-title">Conneted Device</h4>
                            </div>
                            <div class="card-block">
                                <div class="row" *ngFor="let item of device">
                                    <div class="col-md-4">
                                        <span class="border-radius-4 inline-block">
                                        <span class="pdd-horizon-10 lh-2-5 display-block">
                                          <img src="./assets/images/logo/raspberry-pi-icon.png" style="height: 30px;" alt="">
                                        </span>
                                        </span>
                                        <span class="mrg-left-10 font-size-16 text-dark text-bold">{{item.model}}</span>
                                    </div>
                                    <div class="col-md-2">
                                        <p class="mrg-top-10">
                                            <span>{{item.serial_number}}</span>
                                        </p>
                                    </div>

                                    <div class="col-md-2">
                                        <p class="mrg-top-10">
                                            <span>{{item.route_ip}}</span>
                                        </p>
                                    </div>
                                    <div class="col-md-4">
                                        <span class="label label-danger right" *ngIf="item.active==false">Deactivated</span>
                                        <a class="btn-floating pulse green right" *ngIf="item.status==true&&item.active==true"><i
                                                    class="ti-control-record"> </i></a>
                                        <a class="btn-floating red right" *ngIf="item.status==false&&item.active==true"><i
                                                    class="ti-control-record"> </i></a>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!-- <div class="card" *ngIf="_auth.role!='user'">
                            <div class="card-heading border bottom">
                                <div class="row">
                                    <div class="col-md-10">
                                        <h4 class="card-title">Qualification</h4>
                                    </div>
                                    <div class="col-md-2">
                                        <button (click)="showQualificationForm()" class="right btn btn-default btn-inverse btn-rounded">Upload</button>
                                    </div>
                                </div>
                            </div>
                            <div class="card-block" *ngIf="showQualification==true">
                                <div class="row">
                                    <div class="col-md-3">
                                        <p class="mrg-top-10 text-dark"> <b>Degree</b></p>
                                    </div>
                                    <div class="col-md-6">
                                        <input type="text" name="degree" [(ngModel)]="degree" id="">
                                    </div>
                                </div>
                                <hr>
                                <div class="row">
                                    <div class="col-md-3">
                                        <p class="mrg-top-10 text-dark"> <b>Grade</b></p>
                                    </div>
                                    <div class="col-md-6">
                                        <input type="text" name="grade" [(ngModel)]="grade" id="">
                                    </div>
                                </div>
                                <hr>
                                <div class="row">
                                    <div class="col-md-3">
                                        <p class="mrg-top-10 text-dark"> <b>Institute</b></p>
                                    </div>
                                    <div class="col-md-6">
                                        <input type="text" name="institute" [(ngModel)]="institute" id="">
                                    </div>
                                </div>
                                <hr>
                                <div class="row">
                                    <div class="col-md-6">
                                        <input type="file" id="fileUpload" hidden (change)="onSelectFile($event)" />
                                        <img *ngIf="imageSelected==true" [src]="qualification" height="200"> <br/>
                                        <label *ngIf="imageSelected==false" class="btn btn-default" for="fileUpload">Upload Certificate</label>
                                        <button *ngIf="imageSelected==true" (click)="save()" class="btn btn-default">Save</button>
                                    </div>
                                </div>
                                <hr>
                            </div>
                            <div class="card-block">
                                <div class="row" *ngFor="let item of qualification">
                                    <div class="col-md-4">
                                        <span class="border-radius-4 inline-block">
                                        <span class="pdd-horizon-10 lh-2-5 display-block">
                                          <img [src]="images[item._id]" style="height: 30px;" alt="">
                                        </span>
                                        </span>
                                        <span class="mrg-left-10 font-size-16 text-dark text-bold">{{item.degree}}</span>
                                    </div>
                                    <div class="col-md-8 text-right">
                                        <p class="mrg-top-10">
                                            <span>{{item.institute}}</span>
                                        </p>
                                    </div>
                                </div>
                            </div>
                        </div> -->

                        <div class="card">
                            <div class="card-heading border bottom">
                                <h4 class="card-title">Active Sessions</h4>
                            </div>
                            <div class="card-block">
                                <div class="row" *ngFor="let chunks of sessions">
                                    <div class="col-md-4" *ngFor="let session of chunks">
                                        <div class="card-media">
                                            <iframe [src]="sanitizer.bypassSecurityTrustResourceUrl(session.src)" style="width: 90%;margin: auto;display: flex;align-content: center;" allowfullscreen></iframe>
                                        </div>
                                        <div class="card-block">
                                            <div class="relative scrollable ps-container ps-theme-default ps-active-y" style="height: 240px;" data-ps-id="20bdee71-45a4-d4d6-a96b-23200e8fae04">
                                                <h5 class="mrg-btm-20 no-mrg-top">{{session.timeStamp}}</h5>
                                                <p>{{session.location}} </p>
                                                <p>{{session.route}} </p>
                                                <button *ngIf="session.current==false" (click)="logoutSession(session.token)" class="btn btn-danger">Logout Session</button>
                                                <button *ngIf="session.current==true" class="disabled btn btn-default">Current Session</button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- Content Wrapper END -->